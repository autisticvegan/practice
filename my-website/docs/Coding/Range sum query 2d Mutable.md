
Note this problem is very easy if its immutable. But mutable version requires segment tree.

